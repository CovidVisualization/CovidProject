<a class="anchor" id="bargraphContent"></a>

<section class="barContent">
  <div class="row">
    <div class="col-3">
      <div class="grid-container">
          <p>ตรวจสอบผู้ติดเชื้อแต่ละจังหวัด</p>
          <mat-form-field appearance="outline" color="accent">
            <mat-label>ค้นหา</mat-label>
            <input
              matInput
              (keyup)="applyFilter($event)"
              (change)="updateChart()"
              placeholder="ระบุจังหวัด"
              #input
            />
          </mat-form-field>

          <!-- <div class="filter-field"> -->
          <table
            mat-table
            matSort
            [dataSource]="dataSource"
            class="mat-elevation-z8"
          >
            <!-- Name Column -->
            <ng-container matColumnDef="province">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                ชื่อจังหวัด
              </th>
              <td
                mat-cell
                *matCellDef="let element"
                class="m-card-title"
                test
                data-label="province"
              >
                <!-- <a href={{element.location}} target="_blank">{{ element.name }}</a> -->
                {{ element.province }}
              </td>
            </ng-container>

            <!-- newCase Column -->
            <ng-container matColumnDef="newCase">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                ผู้ติดเชื้อ
              </th>
              <td
                mat-cell
                *matCellDef="let element"
                class="has_label_on_mobile newCase-label"
                data-label="newCase"
              >
                {{ element.newCase }}
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
              <td class="mat-cell" colspan="4">
                ไม่พบข้อมูลที่ต้องการค้นหา "{{ input.value }}"
              </td>
            </tr>
          </table>
          <mat-paginator
            class="pageNav"
            [pageSizeOptions]="[6]"
            hidePageSize="true"
          ></mat-paginator>
      </div>
    </div>

    <!-- <button (click)="updateChart()">kuy</button> -->
      <div class="col-9">
        <div class="chartContainer">
          <div class="divChart">
            <p>กราฟเปรียบเทียบผู้ติดเชื้อ</p>
            <chart [type]="type" [data]="data" [options]="options"></chart>
        </div>
      </div>
    </div>
  </div>
</section>
